Fiber 是 React 的协调算法,使得 React 能够更好地管理复杂应用中的渲染性能问题

在 之前的版本中，协调算法（reconciliation）是**同步**的，也就是说，一旦开始渲染一个组件树，React 会阻塞整个线程，直到渲染完成。如果组件树很大，或者渲染过程很复杂，可能会导致性能问题，尤其是在需要频繁更新 UI 的应用中，这可能会导致浏览器卡顿或掉帧。

React Fiber 解决了这一问题，通过将渲染工作**分割成多个小任务**，允许 React 在空闲时间段内完成这些任务，从而实现更平滑、更高效的用户界面更新。

三个特点: 

1. **可中断渲染**：  
   传统的 React 是同步渲染的，一旦开始更新组件，直到整个更新结束才能响应其他任务。这可能会导致页面卡顿，尤其是遇到复杂更新时。React Fiber 改进了这一点，它将渲染任务分成多个小的工作单元，并且每完成一个小任务后，它会检查是否有更重要的任务需要处理。比如，用户的输入或者动画更新。如果有更高优先级的任务，Fiber 会暂时中断当前的渲染，优先处理那些任务，等到空闲时再继续未完成的渲染工作。这样，用户不会感到页面被卡住。
2. **优先级调度**：  
   Fiber 让 React 可以给不同的任务设定优先级。举个例子，像用户点击按钮、输入文本这些交互性操作，优先级会很高，因为用户需要及时的反馈。而其他一些数据更新、网络请求等操作优先级会低一些，可以稍后再处理。这种优先级调度机制确保了 React 先处理那些最重要的事情，让用户感觉应用更加灵活和快速。
3. **时间切片**： 时间切片可以看作结合了**可中断渲染**和**优先级调用。React Fiber 将长任务分割成多个小片段，每个片段在一个很短的时间内执行。在每个时间片结束后，React 会检查是否有更高优先级的工作需要处理。如果有，它会暂停当前任务，转而处理更重要的工作。如果没有，它会继续执行下一个时间片
4. **阶段划分**：
   Fiber 将渲染过程划分为两个阶段：
   - **渲染阶段（render）**：这是任务的调度和协调阶段，在这一阶段，React 会构建更新的 UI 树。这一阶段是可以被打断的。
   - **提交阶段 (commit)**：一旦渲染完成，React 会将更新提交到真实 DOM 上。这一阶段是同步的，不能被打断。